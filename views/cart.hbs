{{> header}}
<div style="background-color: #fff6f6;height: 100%">
    <div class="container cart">
        <div class="text-center">
            <p class="h3">Your cart: {{count}} item</p>
        </div>
        <div class="row cart-content">
            <div class="col-12 col-md-9 col-lg-9">
                <table class="table table-cart">
                    <thead>
                    <tr>
                        <th scope="col">Product</th>
                        <th scope="col">Price</th>
                        <th scope="col">Quantity</th>
                        <th scope="col">Total</th>
                        <th scope="col"></th>
                    </tr>
                    </thead>
                    <tbody>
                        {{#each productOfCart}}
                            <tr>
                                <td>
                                    <div class="product-cart">
                                        <div class="image-p-cart">
                                            <img class="image-c-p-card" src="{{image}}" alt="image">
                                        </div>
                                        <div class="name-product-cart">
                                            <p class="name">{{name}}</p>
                                            <p class="author">{{manufacturer}}</p>
                                        </div>
                                    </div>
                                </td>
                                <td>
                                    <p class="content" id="price-{{id}}">{{unitStock}} {{price}}</p>
                                </td>
                                <td>
                                    <div class="wrapper">
                                        <span class="minus" onclick="remove({{id}})">-</span>
                                        <span class="num" id="{{id}}">{{quantity}}</span>
                                        <span class="plus" onclick="add({{id}})">+</span>
                                    </div>
                                </td>
                                <td>
                                    <p class="content" id="total-{{id}}">{{total}}</p>
                                </td>
                                <td>
                                    <div class="text-center mt-5">
                                        <i style="font-size: 30px" class="bi bi-x"></i>
                                    </div>
                                </td>
                            </tr>
                        {{/each}}
                    </tbody>
                </table>
            </div>
            <div class="col-12 col-md-3 col-lg-3">
                <div class="order">
                    <div class="order-SubTotal">
                        <p class="h6">
                            Cart Totals
                        </p>
                        <div class="sub-content">
                            <p>Subtotal</p>
                            <p>$ {{cart.total}}</p>
                        </div>
                        <div class="sub-content">
                            <p>Shipping</p>
                            <p>Free Shipping</p>
                        </div>
                    </div>
                    <div class="order-ship">
                        <p class="h6">Shipping</p>
                        <div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1">
                                <label class="form-check-label" for="flexRadioDefault1">
                                    Free shipping
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1">
                                <label class="form-check-label" for="flexRadioDefault1">
                                    Flat rate: $15
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1">
                                <label class="form-check-label" for="flexRadioDefault1">
                                    Local pickup: $8
                                </label>
                            </div>
                            <div style="display: flex;justify-content: space-between;margin-top: 10px">
                                <p>Shipping to turkey:</p>
                                <div type="button" class="text-danger" data-bs-toggle="modal" data-bs-target="#exampleModal">Change Address</div>
                            </div>
                        </div>
                    </div>
                    <div class="order-total">
                        <p class="h6">Total</p>
                        <p>
                            $ {{cart.total}}
                        </p>
                    </div>
                    <div class="text-center">
                        <div class="btn btn-dark">
                            Place Order
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{{> footer}}
<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Shipping Address</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="mb-3">
                    <label for="countryId">Country</label>
                    <select name="country" class="countries form-control" id="countryId">
                        <option value="">Select Country</option>
                    </select>
                    <span id="err-country"></span>
                </div>
                <div class="mb-3">
                    <label for="stateId">State</label>
                    <select name="state" class="states form-control" id="stateId">
                        <option value="">Select State</option>
                    </select>
                    <span id="err-state"></span>
                </div>
                <div class="mb-3">
                    <label for="cityId">City</label>
                    <select name="city" class="cities form-control" id="cityId">
                        <option value="">Select City</option>
                    </select>
                    <span id="err-city"></span>
                </div>
                <div class="mb-3">
                    <form action="/order" method="post" id="form-address">
                        <input style="display: none" type="text" name="country" id="country">
                        <input style="display: none" type="text" name="state" id="state">
                        <input style="display: none" type="text" name="city" id="city">
                        <label for="address" class="form-label">Address</label>
                        <textarea class="form-control" id="address" rows="4" name="address"></textarea>
                        <span id="err-address"></span>
                    </form>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" onclick="changeAddress()">Change address</button>
            </div>
        </div>
    </div>
</div>
